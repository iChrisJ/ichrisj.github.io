{"title":"查看Power Pages网站错误日志","date":"2024-01-13T00:00:00.000Z","date_formatted":{"ll":"Jan 13, 2024","L":"01/13/2024","MM-DD":"01-13"},"thumbnail":"/images/thumbnails/view-portal-error-logs.jpg","link":"2024/01/13/view-portal-error-logs","comments":true,"tags":["Power Apps Portal","Power Pages"],"updated":"2024-11-02T17:04:20.665Z","content":"<p>在使用Power Pages的过程中，我们有时候会遇到一些错误或者页面奔溃，但是在Power Pages上只显示一些常规性的错误信息，这些信息不能很好的帮助我们诊断问题。很多时候我们不得不寻找Microsoft Support的帮忙，让他们从后台查询具体的错误日志来分析问题。</p>\n<p>其实我们可以把Power Pages的服务器段的错误日志下载到本地，来进行问题分析。这就减少了需求Microsoft Support的帮助。为了下载日志，我们需要将Power Pages的服务器端日志同步到Azure Blob中，然后通过Azure Storage Explorer来下载日志文件。</p>\n<h2 id=\"配置\">配置<a title=\"#配置\" href=\"#配置\"></a></h2>\n<p>首先，我们需要有Azure Storage的subscription, 然后创建一个Azure Storage。创建完之后，打开Access keys，拷贝一下Connection string。<br>\n<img src=\"/images/view-portal-error-logs/connection-string.png\" alt=\"\" loading=\"lazy\"></p>\n<p>之后，打开Power Pages的Admin Center, 在Site Actions上选择Enable diagnostics logs。Enable diagnostic logging的窗口将在右侧展开，选择日志保留的时间，然后填上上面复制的connection string。这样配置就完成了。<br>\n<img src=\"/images/view-portal-error-logs/enable-diag-logs.png\" alt=\"\" loading=\"lazy\"></p>\n<h2 id=\"下载\">下载<a title=\"#下载\" href=\"#下载\"></a></h2>\n<p>打开Azure Storage Explorer并登录Azure的账户，然后在EXPLORER窗口里面展开Storage Accounts，找到我们创建的Storage Account，下面会有一个telemetry-logs的Blob Container，Power Pages的错误日志就存放在这里面。</p>\n<p>日志文件夹是以Web App &gt; 年 &gt; 月 &gt; 日 &gt; 小时的层级存储的。如果你想知道什么时间点的日志，可以一层一层查找。</p>\n<blockquote>\n<p>每一个Production type的Power Pages site都会有两个Web App, 一个Primary，一个Secondary。日志主要存在Primary Web App的文件夹下面。如果不知道哪个是Primary Web App，就两个文件夹都看一下。</p>\n</blockquote>\n<p>下载的日志文件是CSV格式，可以用Excel打开。<br>\n<img src=\"/images/view-portal-error-logs/storage-explorer.png\" alt=\"\" loading=\"lazy\"></p>\n<p>谢谢！</p>\n<blockquote><p>References</p>\n<footer><strong>@MS Doc</strong><cite><a href=\"https://learn.microsoft.com/en-us/power-pages/admin/view-portal-error-log#access-website-error-logs\">learn.microsoft.com/en-us/power-pages/admin/view-portal-error-log#access-website-error-logs</a></cite></footer></blockquote>","prev":{"title":"Power Pages登录报错\"multiple entities are present\"","link":"2024/01/16/multiple-entities-are-present"},"next":{"title":"Power Pages与Azure Application Insights的集成","link":"2024/01/09/integrate-application-insights-with-power-pages"},"plink":"https://blog.citysouth.cc/2024/01/13/view-portal-error-logs/","toc":[{"id":"配置","title":"配置","index":"1"},{"id":"下载","title":"下载","index":"2"}],"copyright":{"license":"自由转载-非商用-禁止演绎-保持署名 Attribution-NonCommercial-NoDerivatives 4.0 International (<a href=\"https://creativecommons.org/licenses/by-nc-nd/4.0/\" target=\"_blank\">CC BY-NC-ND 4.0</a>)","published":"January 13, 2024"},"reading_time":"498 words in 4 min"}